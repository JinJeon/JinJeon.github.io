---
title: ë°±ì¤€ 7576ë²ˆ
categories:
  - ALGORITHM
feature_image: ""
feature_text: |
  BFSë¥¼ ì´ìš©í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ ë²”ìœ„ í™•ì¥í•˜ê¸° (JAVASCRIPT)

# aside: true
---

**[QUESTION LINK](https://www.acmicpc.net/problem/7576)**

ìµì€ í† ë§ˆí† ê°€ ìœ„ì¹˜í•œ ê³³ì—ì„œ í•œ ë²ˆì”© BFSë¥¼ ì‹œí–‰í•´, í•˜ë£¨ê°€ ì§€ë‚  ë•Œë§ˆë‹¤ ê·¼ì²˜ í† ë§ˆí† ê°€ ìµì€ ê²ƒìœ¼ë¡œ ë§Œë“œëŠ” í˜•ì‹ì„ ì ìš©í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤. ì¦‰, ì´ë¥¼ ìœ„í•´ì„œ ìµì€ í† ë§ˆí† ê°€ ìˆëŠ” ìœ„ì¹˜ â€˜1â€™ ì¢Œí‘œë¥¼ ì°¾ì•„ë‚´ê³ , ì´ ê³³ì—ì„œ BFSê°€ ìˆœì°¨ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ê²ƒìœ¼ë¡œ í•˜ê³ ì êµ¬ìƒí–ˆìŠµë‹ˆë‹¤. ìƒê°í•œ ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

1. ëª¨ë“  ìµì€ í† ë§ˆí† (â€™1â€™)ì˜ ì¢Œí‘œ êµ¬í•˜ê¸°
2. í•˜ë£¨ê°€ ì§€ë‚  ë•Œë§ˆë‹¤(`day+=1;`) ìµì€ í† ë§ˆí† ì˜ ì¢Œí‘œë¡œë¶€í„° ê·¼ì ‘í•œ ëœ ìµì€ í† ë§ˆí† (â€™0â€™)ì˜ ê°’ì„ â€˜1â€™ë¡œ ë°”ê¾¸ê¸°
3. ë‹¤ìŒ í•˜ë£¨ê°€ ì§€ë‚  ë•Œë§ˆë‹¤ 2ë²ˆê³¼ ê°™ì€ ê³¼ì • ë°˜ë³µí•˜ê¸°
4. ì¸ì ‘í•œ ê³³ì— ëœ ìµì€ í† ë§ˆí† (â€™0â€™)ê°€ ì—†ì„ ì‹œ ê³¼ì • ì¤‘ë‹¨í•˜ê¸°

### ì„±ê³µì€ í–ˆìœ¼ë‚˜ ì‹œê°„ ì´ˆê³¼

ì´ë¥¼ ìœ„í•´, ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ êµ¬ìƒí–ˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ìˆœì°¨ì ìœ¼ë¡œ í† ë§ˆí† ê°€ ìµëŠ” ê³¼ì •ì„ ê·¸ë ¤ë‚¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, **ì‹œê°„ ì´ˆê³¼**ê°€ ë°œìƒí•´, ì¶”ê°€ì ì¸ ìˆ˜ì •ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

```jsx
const [numbers, ...graph] = input;
const [m, n] = numbers.split(" ").map((value) => Number(value));
const graphBoxes = graph.map((line) => line.split(" "));
const queue = [];
// ì²« ìµì€ í† ë§ˆí† ê°€ ìˆëŠ” ìœ„ì¹˜ë¥¼ ë°›ìŒ

const getMarker = (y, x) => `${y},${x}`;
const getQueueItem = (y, x, day) => `${getMarker(y, x)},${day}`;
// queueì— ë“¤ì–´ê°ˆ í˜•íƒœë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜

graphBoxes.forEach((line, lineIndex) => {
  line.forEach((box, boxIndex) => {
    if (box === "1") queue.push(getQueueItem(lineIndex, boxIndex, 0));
    // ìµì€ í† ë§ˆí† ê°€ ìˆì„ ê²½ìš°, queue ë°°ì—´ì— ë‹´ì•„ì¤Œ
  });
});

const visited = {};
// ë°©ë¬¸ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´
let day = 0;
// ë‚ ì§œë¥¼ ë‚˜íƒ€ëƒ„. í•˜ë£¨ê°€ ì§€ë‚˜ëŠ” ê²ƒì„ í™•ì¸í•  ë•Œë§ˆë‹¤ 1ì”© ì˜¤ë¦„
let curItem;
// ë°˜ë³µë¬¸ì—ì„œ í˜„ì¬ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’

while (queue.length) {
  curItem = queue.shift();
  // queueì—ì„œ ê°€ì¥ ì²˜ìŒ ìš”ì†Œë¥¼ ê°€ì ¸ì™€, BFSë¡œ ìˆœí™˜í•˜ë„ë¡ í•¨
  const [y, x, curDay] = curItem.split(",").map((value) => Number(value));
  // ì¢Œí‘œ ë° ë‚ ì§œë¥¼ ê°€ì ¸ì˜´
  const curValue = graphBoxes[y][x];
  const curMarker = getMarker(y, x);

  if (!visited[curMarker] && curValue !== "-1") {
    // ë°©ë¬¸í•˜ì§€ ì•Šì•˜ê³ , í† ë§ˆí† ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ì¶”ê°€ ì‘ì—… ì‹œí–‰í•¨
    visited[curMarker] = true;
    // ë°©ë¬¸í–ˆìŒì„ í‘œê¸°
    graphBoxes[y][x] = "1";
    // í† ë§ˆí† ê°€ ìˆì—ˆë‹¤ëŠ” í‘œê¸°
    if (day < curDay) day = curDay;
    // í˜„ì¬ ì„¤ì •ëœ ë‚ ì§œë³´ë‹¤ ë§ì€ ë‚ ì§œê°€ ì§€ë‚˜ê°”ì„ ì‹œ, ê·¸ ë‚ ì§œë¡œ ìˆ˜ì •
    if (y - 1 >= 0) queue.push(getQueueItem(y - 1, x, curDay + 1));
    if (x - 1 >= 0) queue.push(getQueueItem(y, x - 1, curDay + 1));
    if (y + 1 < n) queue.push(getQueueItem(y + 1, x, curDay + 1));
    if (x + 1 < m) queue.push(getQueueItem(y, x + 1, curDay + 1));
    // ì£¼ë³€ í† ë§ˆí† ë“¤ì„ ì²´í¬í•˜ê¸° ìœ„í•´ ë‚ ì§œê°€ í•˜ë£¨ ë”í•´ì§„ ê°’(curDay + 1)ì„ ëŒ€ì…í•¨
  }
}

const isFailed = !!graphBoxes.find((line) => line.find((box) => box === "0"));
// ëª¨ë“  í† ë§ˆí† ê°€ ìˆœí™˜í•œ í›„, ë°©ë¬¸í•˜ì§€ ëª»í•œ ê³³ì´ ì¡´ì¬í•  ì‹œ -1ë¡œ ë³€ê²½
const result = isFailed ? -1 : day;

console.log(result);
```

### ì‹œê°„ ì´ˆê³¼ ì›ì¸ ì œê±°í•˜ê¸°

ì´ ì½”ë“œì—ì„œ ì‹œê°„ ì´ˆê³¼ê°€ ë‚˜ì˜¤ê²Œ ëœ ì›ì¸ ì¤‘ í•˜ë‚˜ë¡œ, `queue.shift()` ë¶€ë¶„ì´ ìˆìœ¼ë©°, ì´ ë¶€ë¶„ì€ `index`ë¡œ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í•´ê²°ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ë¥¸ ì›ì¸ ì¤‘ í•˜ë‚˜ëŠ” ìœ„ ì½”ë“œì—ì„œ ì¼ë‹¨ ë°©ë¬¸í•œ ì ì´ ìˆëŠ” ì§€ë¥¼ í™•ì¸í•˜ê³  ì¶”ê°€ì ì¸ ì‘ì—…ì„ í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼, ìš°ì„  `queue`ì— ë‹´ì€ ë’¤, ì¶”ê°€ ì‘ì—…ì—ì„œ ë°©ë¬¸ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  ì§„í–‰í•˜ë„ë¡ ì„¤ì •ì´ ë˜ì–´ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë¶ˆí•„ìš”í•œ ì‘ì—…ì´ ë°˜ë³µë˜ëŠ” ê²½ìš°ê°€ ë§ì•„ì ¸, ì´ ë¶€ë¶„ë“¤ì„ ëª¨ë‘ ì œì™¸í•˜ê³  ì½”ë“œë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

```jsx
const input = fs.readFileSync(filePath).toString().trim().split("\n");
const [numbers, ...graph] = input;
const [m, n] = numbers.split(" ").map((value) => +value);
const graphBoxes = graph.map((line) => line.split(" "));
const queue = [];
const visited = {};
// ì£¼ë³€ ì¢Œí‘œë¡œ ë„˜ì–´ê°€ëŠ” ë¶€ë¶„ì˜ ì¤‘ë³µì„ ì—†ì• ê¸° ìœ„í•´ ë§Œë“  ìœ„ì¹˜ ë³€ìˆ˜ë“¤
const positionValue = [
  [-1, 0],
  [1, 0],
  [0, -1],
  [0, 1],
];

const getMarker = (y, x) => `${y},${x}`;
const getQueueItem = (y, x, day) => `${getMarker(y, x)},${day}`;
// ì´ì „ê³¼ ë‹¬ë¼ì§„ ë¶€ë¶„. ì¢Œí‘œì™€ ë‚ ì§œë¥¼ ë°›ê³ , ì´ìƒì´ ì—†ì„ ì‹œ queueì— ë“¤ì–´ê°€ë„ë¡ ì„¤ì •í•¨
const checkPosition = (y, x, day) => {
  if (x < 0 || x >= m || y < 0 || y >= n) return;
  const marker = getMarker(y, x);
  if (visited[marker]) return;
  visited[marker] = true;
  queue.push(getQueueItem(y, x, day + 1));
};

// ì´ì „ê³¼ ë‹¬ë¦¬, queueì— ë“¤ì–´ê°€ê¸° ì „ ë°©ë¬¸ ì—¬ë¶€ë¥¼ ì²´í¬í•´ ì¤‘ë³µ í™•ì¸ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•¨
graphBoxes.forEach((line, lineIndex) => {
  line.forEach((box, boxIndex) => {
    if (box === "1") {
      visited[getMarker(lineIndex, boxIndex)] = true;
      queue.push(getQueueItem(lineIndex, boxIndex, 0));
    }
  });
});

let targetIdx = 0;
let day = 0;
let curItem;

// ê¸°ì¡´ì— queueì—ì„œ ì§ì ‘ ë¹¼ë˜ ë°©ì‹ê³¼ ë‹¬ë¦¬, queueë‚´ì—ì„œ indexë¥¼ í†µí•´ ë¹¼ë‚¸ ê²ƒê³¼ ë™ì¼í•œ íš¨ê³¼ë¡œ í•„ìš”í•œ ê°’ë“¤ì„ êº¼ëƒ„
while (queue[targetIdx]) {
  curItem = queue[targetIdx];
  targetIdx += 1;

  const [y, x, curDay] = curItem.split(",").map((value) => +value);
  const curValue = graphBoxes[y][x];

  if (curValue !== "-1") {
    graphBoxes[y][x] = "1";
    if (day < curDay) day = curDay;
    // ì£¼ë³€ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë„ë¡ ì„¤ì •í•˜ëŠ” ë¶€ë¶„
    positionValue.forEach(([dy, dx]) => checkPosition(y + dy, x + dx, curDay));
  }
}

const isFailed = !!graphBoxes.some((line) => line.some((box) => box === "0"));
const result = isFailed ? -1 : day;

console.log(result);
```

ğŸ” **ìœ„ì™€ ê°™ì´ ìˆ˜ì •ì„ í•˜ì—¬, ë°±ì¤€ì—ì„œ í†µê³¼ë¥¼ í•˜ê¸°ëŠ” í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì´ ì½”ë“œì˜ ê²½ìš°ì—ë„ ì‹œê°„ì´ ìƒë‹¹íˆ ì˜¤ë˜ ê±¸ë ¤ í†µê³¼ê°€ ëê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë” ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ì°¾ì•„ë³´ì•„ì•¼ í•©ë‹ˆë‹¤.**
